<div>
   <!-- <div style="padding: 5px 30px 5px 30px;">
      <mat-form-field appearance="legacy">
         <mat-icon matSuffix>search</mat-icon>
         <mat-label>جستجو</mat-label>
         <input matInput placeholder="[جستجو]" (keyup)="filterChanged($event)" #input>
      </mat-form-field>
      <mat-divider></mat-divider>
   </div> -->
   <div>
      <mat-tree [dataSource]="dataSource" [treeControl]="treeControl">
         <mat-tree-node *matTreeNodeDef="let node" matTreeNodePadding
            [ngClass]="{hovered: node.hovered, highlighted: selectionTree.isSelected(node)}"
            (mouseover)="node.hovered = true" (mouseout)="node.hovered = false">
            <button mat-icon-button disabled></button>
            <img [hidden]="!node.iconId" [src]="node.iconId" alt="" class="iconIdSize">
            {{node.name}}
            <div style="display: flex; flex: 1; justify-content: flex-end;">
               <span style="display: flex; flex: 1; justify-content: flex-end;"> </span>
               <span style="display: flex; justify-content: flex-end;">
                  <mat-slide-toggle class="mr-2" (change)="changeStatusWrite(node)" color="warn" [checked]="node.write"
                     matTooltip="دسترسی ویرایش">
                  </mat-slide-toggle>
                  <mat-checkbox class="checklist-leaf-node" (change)="leafItemSelectionToggle(node)"
                     [checked]="checklistSelection.isSelected(node)" matTooltip="دسترسی نمایش">
                  </mat-checkbox>
                  <mat-checkbox color="warn" (change)="changeStatusWrite(node)" [checked]="node.write"
                     matTooltip="دسترسی ویرایش">
                  </mat-checkbox>
               </span>
            </div>
         </mat-tree-node>
         <mat-tree-node *matTreeNodeDef="let node;when: hasChild" matTreeNodePadding
            [ngClass]="{hovered: node.hovered, highlighted: selectionTree.isSelected(node)}"
            (mouseover)="node.hovered = true" (mouseout)="node.hovered = false">
            <button mat-icon-button matTreeNodeToggle [attr.aria-label]="'Toggle ' + node.name">
               <mat-icon class="mat-icon-rtl-mirror">
                  {{treeControl.isExpanded(node) ? 'expand_more' : 'chevron_right'}}
               </mat-icon>
            </button>
            <img [hidden]="!node.iconId" [src]="node.iconId" alt="" class="iconIdSize">
            {{node.name}}
            <div style="display: flex; flex: 1; justify-content: flex-end;">
               <span style="display: flex; flex: 1; justify-content: flex-end;"> </span>
               <span style="display: flex; justify-content: flex-end;">
                  <mat-checkbox (change)="itemSelectionToggle(node)"
                     [indeterminate]="descendantsPartiallySelected(node)" [checked]="descendantsAllSelected(node)"
                     matTooltip="دسترسی نمایش">
                  </mat-checkbox>
                  <mat-checkbox color="warn" (change)="changeStatusWrite(node)" [checked]="node.write"
                     matTooltip="دسترسی ویرایش">
                  </mat-checkbox>
               </span>
            </div>
         </mat-tree-node>
      </mat-tree>
   </div>
</div>